var xe=Object.defineProperty;var Ce=(e,t,n)=>t in e?xe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var X=(e,t,n)=>(Ce(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const o of c)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(c){const o={};return c.integrity&&(o.integrity=c.integrity),c.referrerPolicy&&(o.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?o.credentials="include":c.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(c){if(c.ep)return;c.ep=!0;const o=n(c);fetch(c.href,o)}})();function h(){}function ve(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}function he(e){return e()}function ce(){return Object.create(null)}function S(e){e.forEach(he)}function te(e){return typeof e=="function"}function E(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Se(e){return Object.keys(e).length===0}function ge(e,...t){if(e==null){for(const r of t)r(void 0);return h}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Ee(e){let t;return ge(e,n=>t=n)(),t}function p(e,t){e.appendChild(t)}function y(e,t,n){e.insertBefore(t,n||null)}function _(e){e.parentNode&&e.parentNode.removeChild(e)}function ne(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function k(e){return document.createElement(e)}function w(e){return document.createTextNode(e)}function N(){return w(" ")}function _e(){return w("")}function K(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function C(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function $e(e){return Array.from(e.childNodes)}function P(e,t){t=""+t,e.data!==t&&(e.data=t)}function pe(e,t){e.value=t??""}let q;function x(e){q=e}function Oe(){if(!q)throw new Error("Function called outside component initialization");return q}const A=[],ie=[];let j=[];const oe=[],Ae=Promise.resolve();let Z=!1;function je(){Z||(Z=!0,Ae.then(re))}function ee(e){j.push(e)}const Y=new Set;let $=0;function re(){if($!==0)return;const e=q;do{try{for(;$<A.length;){const t=A[$];$++,x(t),Le(t.$$)}}catch(t){throw A.length=0,$=0,t}for(x(null),A.length=0,$=0;ie.length;)ie.pop()();for(let t=0;t<j.length;t+=1){const n=j[t];Y.has(n)||(Y.add(n),n())}j.length=0}while(A.length);for(;oe.length;)oe.pop()();Z=!1,Y.clear(),x(e)}function Le(e){if(e.fragment!==null){e.update(),S(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ee)}}function Ne(e){const t=[],n=[];j.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),j=t}const R=new Set;let v;function V(){v={r:0,c:[],p:v}}function G(){v.r||S(v.c),v=v.p}function b(e,t){e&&e.i&&(R.delete(e),e.i(t))}function I(e,t,n,r){if(e&&e.o){if(R.has(e))return;R.add(e),v.c.push(()=>{R.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function Pe(e,t){const n=t.token={};function r(c,o,l,s){if(t.token!==n)return;t.resolved=s;let u=t.ctx;l!==void 0&&(u=u.slice(),u[l]=s);const i=c&&(t.current=c)(u);let f=!1;t.block&&(t.blocks?t.blocks.forEach((a,m)=>{m!==o&&a&&(V(),I(a,1,1,()=>{t.blocks[m]===a&&(t.blocks[m]=null)}),G())}):t.block.d(1),i.c(),b(i,1),i.m(t.mount(),t.anchor),f=!0),t.block=i,t.blocks&&(t.blocks[o]=i),f&&re()}if(ve(e)){const c=Oe();if(e.then(o=>{x(c),r(t.then,1,t.value,o),x(null)},o=>{if(x(c),r(t.catch,2,t.error,o),x(null),!t.hasCatch)throw o}),t.current!==t.pending)return r(t.pending,0),!0}else{if(t.current!==t.then)return r(t.then,1,t.value,e),!0;t.resolved=e}}function Be(e,t,n){const r=t.slice(),{resolved:c}=e;e.current===e.then&&(r[e.value]=c),e.current===e.catch&&(r[e.error]=c),e.block.p(r,n)}function L(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function z(e){e&&e.c()}function B(e,t,n){const{fragment:r,after_update:c}=e.$$;r&&r.m(t,n),ee(()=>{const o=e.$$.on_mount.map(he).filter(te);e.$$.on_destroy?e.$$.on_destroy.push(...o):S(o),e.$$.on_mount=[]}),c.forEach(ee)}function D(e,t){const n=e.$$;n.fragment!==null&&(Ne(n.after_update),S(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function De(e,t){e.$$.dirty[0]===-1&&(A.push(e),je(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function T(e,t,n,r,c,o,l=null,s=[-1]){const u=q;x(e);const i=e.$$={fragment:null,ctx:[],props:o,update:h,not_equal:c,bound:ce(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:ce(),dirty:s,skip_bound:!1,root:t.target||u.$$.root};l&&l(i.root);let f=!1;if(i.ctx=n?n(e,t.props||{},(a,m,...d)=>{const g=d.length?d[0]:m;return i.ctx&&c(i.ctx[a],i.ctx[a]=g)&&(!i.skip_bound&&i.bound[a]&&i.bound[a](g),f&&De(e,a)),m}):[],i.update(),f=!0,S(i.before_update),i.fragment=r?r(i.ctx):!1,t.target){if(t.hydrate){const a=$e(t.target);i.fragment&&i.fragment.l(a),a.forEach(_)}else i.fragment&&i.fragment.c();t.intro&&b(e.$$.fragment),B(e,t.target,t.anchor),re()}x(u)}class F{constructor(){X(this,"$$");X(this,"$$set")}$destroy(){D(this,1),this.$destroy=h}$on(t,n){if(!te(n))return h;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const c=r.indexOf(n);c!==-1&&r.splice(c,1)}}$set(t){this.$$set&&!Se(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Te="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Te);const O=[];function Fe(e,t){return{subscribe:be(e,t).subscribe}}function be(e,t=h){let n;const r=new Set;function c(s){if(E(e,s)&&(e=s,n)){const u=!O.length;for(const i of r)i[1](),O.push(i,e);if(u){for(let i=0;i<O.length;i+=2)O[i][0](O[i+1]);O.length=0}}}function o(s){c(s(e))}function l(s,u=h){const i=[s,u];return r.add(i),r.size===1&&(n=t(c,o)||h),s(e),()=>{r.delete(i),r.size===0&&n&&(n(),n=null)}}return{set:c,update:o,subscribe:l}}function ye(e,t,n){const r=!Array.isArray(e),c=r?[e]:e;if(!c.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const o=t.length<2;return Fe(n,(l,s)=>{let u=!1;const i=[];let f=0,a=h;const m=()=>{if(f)return;a();const g=t(r?i[0]:i,l,s);o?l(g):a=te(g)?g:h},d=c.map((g,W)=>ge(g,we=>{i[W]=we,f&=~(1<<W),u&&m()},()=>{f|=1<<W}));return u=!0,m(),function(){S(d),a(),u=!1}})}function H(e,t){return Array.isArray(t)?t.every(e):!1}function Ie(e){return!(typeof e!="object"||typeof e.name!="string"||typeof e.price!="number")}function U(e){return typeof e.price=="number"}function ke(e){return H(Ie,e.prices)}function Me(e){if(typeof e!="object"||typeof e.name!="string")return!1;const t=typeof e.price=="number",n=H(Ie,e.prices);return!(t&&n||!t&&!n)}function qe(e){return!(typeof e!="object"||typeof e.name!="string"||!H(Me,e.items))}function ze(e){return!(typeof e!="object"||!H(qe,e.itemCategories))}const J=be({itemCategories:[]}),Ue=ye(J,e=>({total:e.itemCategories.reduce((t,n)=>t+n.items.reduce((r,c)=>r+(U(c)?c.isSelected?c.price:0:c.selectedIndex>=0?c.prices[c.selectedIndex].price:0),0),0)})),le=ye([J,Ue],([e,t])=>({...e,...t})),Re=e=>J.set({...e,itemCategories:e.itemCategories.map(t=>({...t,items:t.items.map(n=>U(n)?{...n,isSelected:!1}:{...n,selectedIndex:-1})}))}),Q=e=>(t,n)=>{n<0||t<0||J.update(r=>{if(n<0||t<0||t>=r.itemCategories.length)return r;const c=r.itemCategories[t];if(n>=c.items.length)return r;const o=e(c.items[n]);return o===!1?r:{...r,itemCategories:[...r.itemCategories.slice(0,t),{...c,items:[...c.items.slice(0,n),o,...c.items.slice(n+1)]},...r.itemCategories.slice(t+1)]}})},Ke=Q(e=>U(e)?{...e,isSelected:!0}:!1),Ve=Q(e=>U(e)?{...e,isSelected:!1}:!1),Ge=(e,t,n)=>Q(r=>n<0||!ke(r)||n>=r.prices.length?!1:{...r,selectedIndex:n})(e,t),He=Q(e=>ke(e)?{...e,selectedIndex:-1}:!1);function se(e,t,n){const r=e.slice();return r[10]=t[n],r[12]=n,r}function ue(e){let t,n=e[10]+"",r,c,o,l;function s(){return e[9](e[12])}return{c(){t=k("option"),r=w(n),t.__value=e[12],pe(t,t.__value),t.selected=c=e[12]===e[1]},m(u,i){y(u,t,i),p(t,r),o||(l=K(t,"select",s),o=!0)},p(u,i){e=u,i&4&&n!==(n=e[10]+"")&&P(r,n),i&2&&c!==(c=e[12]===e[1])&&(t.selected=c)},d(u){u&&_(t),o=!1,l()}}}function Je(e){let t,n,r,c,o,l,s,u,i=L(e[2]),f=[];for(let a=0;a<i.length;a+=1)f[a]=ue(se(e,i,a));return{c(){t=k("div"),n=k("select"),r=k("option");for(let a=0;a<f.length;a+=1)f[a].c();o=N(),l=w(e[0]),r.__value=-1,pe(r,r.__value),r.selected=c=e[1]<0},m(a,m){y(a,t,m),p(t,n),p(n,r);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(n,null);p(t,o),p(t,l),s||(u=[K(r,"select",e[4]),K(n,"change",e[5])],s=!0)},p(a,[m]){if(m&2&&c!==(c=a[1]<0)&&(r.selected=c),m&14){i=L(a[2]);let d;for(d=0;d<i.length;d+=1){const g=se(a,i,d);f[d]?f[d].p(g,m):(f[d]=ue(g),f[d].c(),f[d].m(n,null))}for(;d<f.length;d+=1)f[d].d(1);f.length=i.length}m&1&&P(l,a[0])},i:h,o:h,d(a){a&&_(t),ne(f,a),s=!1,S(u)}}}function Qe(e,t,n){let r,c,o,{item:l}=t,{categoryIndex:s}=t,{itemIndex:u}=t;const i=d=>Ge(s,u,d),f=()=>He(s,u),a=d=>{const g=parseInt(d.currentTarget.value);return g<0?f():i(g)},m=d=>i(d);return e.$$set=d=>{"item"in d&&n(6,l=d.item),"categoryIndex"in d&&n(7,s=d.categoryIndex),"itemIndex"in d&&n(8,u=d.itemIndex)},e.$$.update=()=>{e.$$.dirty&64&&n(2,r=l.prices.map(d=>d.name)),e.$$.dirty&64&&n(1,c=l.selectedIndex),e.$$.dirty&66&&n(0,o=c<0?0:l.prices[c].price),e.$$.dirty&1},[o,c,r,i,f,a,l,s,u,m]}class We extends F{constructor(t){super(),T(this,t,Qe,Je,E,{item:6,categoryIndex:7,itemIndex:8})}}function Xe(e){let t,n,r,c,o,l;return{c(){t=k("div"),n=k("input"),r=N(),c=w(e[1]),C(n,"type","checkbox"),n.checked=e[0]},m(s,u){y(s,t,u),p(t,n),p(t,r),p(t,c),o||(l=K(n,"change",e[2]),o=!0)},p(s,[u]){u&1&&(n.checked=s[0]),u&2&&P(c,s[1])},i:h,o:h,d(s){s&&_(t),o=!1,l()}}}function Ye(e,t,n){let r,c,{item:o}=t,{categoryIndex:l}=t,{itemIndex:s}=t;const u=i=>i.currentTarget.checked?Ke(l,s):Ve(l,s);return e.$$set=i=>{"item"in i&&n(3,o=i.item),"categoryIndex"in i&&n(4,l=i.categoryIndex),"itemIndex"in i&&n(5,s=i.itemIndex)},e.$$.update=()=>{e.$$.dirty&8&&n(1,r=o.price),e.$$.dirty&8&&n(0,c=o.isSelected)},[c,r,u,o,l,s]}class Ze extends F{constructor(t){super(),T(this,t,Ye,Xe,E,{item:3,categoryIndex:4,itemIndex:5})}}function et(e){let t,n;return t=new We({props:{item:e[0],categoryIndex:e[1],itemIndex:e[2]}}),{c(){z(t.$$.fragment)},m(r,c){B(t,r,c),n=!0},p(r,c){const o={};c&1&&(o.item=r[0]),c&2&&(o.categoryIndex=r[1]),c&4&&(o.itemIndex=r[2]),t.$set(o)},i(r){n||(b(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){D(t,r)}}}function tt(e){let t,n;return t=new Ze({props:{item:e[0],categoryIndex:e[1],itemIndex:e[2]}}),{c(){z(t.$$.fragment)},m(r,c){B(t,r,c),n=!0},p(r,c){const o={};c&1&&(o.item=r[0]),c&2&&(o.categoryIndex=r[1]),c&4&&(o.itemIndex=r[2]),t.$set(o)},i(r){n||(b(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){D(t,r)}}}function nt(e){let t,n=e[0].name+"",r,c,o,l,s,u;const i=[tt,et],f=[];function a(m,d){return d&1&&(o=null),o==null&&(o=!!U(m[0])),o?0:1}return l=a(e,-1),s=f[l]=i[l](e),{c(){t=k("div"),r=w(n),c=N(),s.c()},m(m,d){y(m,t,d),p(t,r),p(t,c),f[l].m(t,null),u=!0},p(m,[d]){(!u||d&1)&&n!==(n=m[0].name+"")&&P(r,n);let g=l;l=a(m,d),l===g?f[l].p(m,d):(V(),I(f[g],1,1,()=>{f[g]=null}),G(),s=f[l],s?s.p(m,d):(s=f[l]=i[l](m),s.c()),b(s,1),s.m(t,null))},i(m){u||(b(s),u=!0)},o(m){I(s),u=!1},d(m){m&&_(t),f[l].d()}}}function rt(e,t,n){let{item:r}=t,{categoryIndex:c}=t,{itemIndex:o}=t;return e.$$set=l=>{"item"in l&&n(0,r=l.item),"categoryIndex"in l&&n(1,c=l.categoryIndex),"itemIndex"in l&&n(2,o=l.itemIndex)},[r,c,o]}class ct extends F{constructor(t){super(),T(this,t,rt,nt,E,{item:0,categoryIndex:1,itemIndex:2})}}function fe(e,t,n){const r=e.slice();return r[4]=t[n],r[6]=n,r}function ae(e){let t,n;return t=new ct({props:{item:e[4],categoryIndex:e[0],itemIndex:e[6]}}),{c(){z(t.$$.fragment)},m(r,c){B(t,r,c),n=!0},p(r,c){const o={};c&2&&(o.item=r[4]),c&1&&(o.categoryIndex=r[0]),t.$set(o)},i(r){n||(b(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){D(t,r)}}}function it(e){let t,n,r,c,o=L(e[1]),l=[];for(let u=0;u<o.length;u+=1)l[u]=ae(fe(e,o,u));const s=u=>I(l[u],1,1,()=>{l[u]=null});return{c(){t=k("div"),n=w(e[2]),r=N();for(let u=0;u<l.length;u+=1)l[u].c()},m(u,i){y(u,t,i),p(t,n),p(t,r);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(t,null);c=!0},p(u,[i]){if((!c||i&4)&&P(n,u[2]),i&3){o=L(u[1]);let f;for(f=0;f<o.length;f+=1){const a=fe(u,o,f);l[f]?(l[f].p(a,i),b(l[f],1)):(l[f]=ae(a),l[f].c(),b(l[f],1),l[f].m(t,null))}for(V(),f=o.length;f<l.length;f+=1)s(f);G()}},i(u){if(!c){for(let i=0;i<o.length;i+=1)b(l[i]);c=!0}},o(u){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)I(l[i]);c=!1},d(u){u&&_(t),ne(l,u)}}}function ot(e,t,n){let r,c,{category:o}=t,{categoryIndex:l}=t;return e.$$set=s=>{"category"in s&&n(3,o=s.category),"categoryIndex"in s&&n(0,l=s.categoryIndex)},e.$$.update=()=>{e.$$.dirty&8&&n(2,r=o.name),e.$$.dirty&8&&n(1,c=o.items)},[l,c,r,o]}class lt extends F{constructor(t){super(),T(this,t,ot,it,E,{category:3,categoryIndex:0})}}function de(e,t,n){const r=e.slice();return r[3]=t[n],r[5]=n,r}function me(e){let t,n;return t=new lt({props:{category:e[3],categoryIndex:e[5]}}),{c(){z(t.$$.fragment)},m(r,c){B(t,r,c),n=!0},p(r,c){const o={};c&1&&(o.category=r[3]),t.$set(o)},i(r){n||(b(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){D(t,r)}}}function st(e){let t,n,r,c,o,l=L(e[0]),s=[];for(let i=0;i<l.length;i+=1)s[i]=me(de(e,l,i));const u=i=>I(s[i],1,1,()=>{s[i]=null});return{c(){t=k("h4"),n=w(e[1]),r=N();for(let i=0;i<s.length;i+=1)s[i].c();c=_e()},m(i,f){y(i,t,f),p(t,n),y(i,r,f);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(i,f);y(i,c,f),o=!0},p(i,[f]){if((!o||f&2)&&P(n,i[1]),f&1){l=L(i[0]);let a;for(a=0;a<l.length;a+=1){const m=de(i,l,a);s[a]?(s[a].p(m,f),b(s[a],1)):(s[a]=me(m),s[a].c(),b(s[a],1),s[a].m(c.parentNode,c))}for(V(),a=l.length;a<s.length;a+=1)u(a);G()}},i(i){if(!o){for(let f=0;f<l.length;f+=1)b(s[f]);o=!0}},o(i){s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)I(s[f]);o=!1},d(i){i&&(_(t),_(r),_(c)),ne(s,i)}}}function ut(e,t,n){let r,c,o=Ee(le);return le.subscribe(l=>n(2,o=l)),e.$$.update=()=>{e.$$.dirty&4&&n(1,r=o.total),e.$$.dirty&4&&n(0,c=o.itemCategories)},[c,r,o]}class ft extends F{constructor(t){super(),T(this,t,ut,st,E,{})}}function at(e){let t,n=e[2]+"",r;return{c(){t=w("Failed to load data: "),r=w(n)},m(c,o){y(c,t,o),y(c,r,o)},p:h,i:h,o:h,d(c){c&&(_(t),_(r))}}}function dt(e){let t,n;return t=new ft({}),{c(){z(t.$$.fragment)},m(r,c){B(t,r,c),n=!0},p:h,i(r){n||(b(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){D(t,r)}}}function mt(e){let t;return{c(){t=w("Loading data...")},m(n,r){y(n,t,r)},p:h,i:h,o:h,d(n){n&&_(t)}}}function ht(e){let t,n,r,c,o,l,s={ctx:e,current:null,token:null,hasCatch:!0,pending:mt,then:dt,catch:at,error:2,blocks:[,,,]};return Pe(e[0],s),{c(){t=k("meta"),n=k("link"),r=k("meta"),c=N(),o=_e(),s.block.c(),C(t,"charset","UTF-8"),C(n,"rel","icon"),C(n,"type","image/svg+xml"),C(n,"href","/vite.svg"),C(r,"name","viewport"),C(r,"content","width=device-width, initial-scale=1.0"),document.title="LSC Nord Tuning Rechner"},m(u,i){p(document.head,t),p(document.head,n),p(document.head,r),y(u,c,i),y(u,o,i),s.block.m(u,s.anchor=i),s.mount=()=>o.parentNode,s.anchor=o,l=!0},p(u,[i]){e=u,Be(s,e,i)},i(u){l||(b(s.block),l=!0)},o(u){for(let i=0;i<3;i+=1){const f=s.blocks[i];I(f)}l=!1},d(u){u&&(_(c),_(o)),_(t),_(n),_(r),s.block.d(u),s.token=null,s=null}}}function gt(e){let n=(async()=>{const c=await(await fetch("/data.json")).json();if(!ze(c))throw"Invalid data";return c})();return n.then(r=>Re(r)),[n]}class _t extends F{constructor(t){super(),T(this,t,gt,ht,E,{})}}let M=document.getElementById("app");M===null&&(M=document.createElement("div"),M.id="app",document.body.append(M));new _t({target:M});
